# Планировщик заданий на основе CronConfig

Поддерживаются три варианта расписания:

- `interval`: запуск каждые N секунд/минут/часов.
- `interval-time`: периодический опрос (в минутах) только в окне времени `timeStart`–`timeEnd` по выбранным дням.
- `time`: запуск в фиксированное время по выбранным дням.

Маппинг дней недели: `mo=1`, `tu=2`, `we=3`, `th=4`, `fr=5`, `sa=6`, `su=7`.

Сервис `CronSchedulerService`:

- Загружает активные миграции (`isActive=true`) и создаёт таймеры исходя из `cronExpression`.
- Для `interval` использует `setInterval` по вычисленным миллисекундам.
- Для `interval-time` — `setInterval` с проверкой попадания во временное окно и день.
- Для `time` — рассчитывает ближайшее наступление и планирует `setTimeout`, затем пересоздаёт планирование.

Запуск миграции выполняется через `MigrationRunnerService`, который повторяет логику контроллера и создаёт запись `MigrationRun` со статусами.